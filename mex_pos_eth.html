<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>タイノコチェッカーETHUSD</title>
    <link rel="icon" type="image/png" href="./icon.png">
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        .btn-sticky {
            display: inline-block;
            padding: 0.5em 1em;
            text-decoration: none;
            background: #f7f7f7;
            border-left: solid 6px #ff7c5c;
            color: #ff7c5c;
            font-weight: bold;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.29);
            font-size: 12px;
        }

        .btn-sticky:active {
            box-shadow: inset 0 0 2px rgba(128, 128, 128, 0.1);
            transform: translateY(2px);
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
    <script src="./js/Chart.js"></script>
    <script src="./js/chartjs-plugin-annotation.js"></script>

</head>
<body>
<div style="width: 1200px;">
    <canvas id="myChart1" width="640" style="margin-top: 8px;"></canvas>
    <div style="margin-top: 8px;">
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-15;window.drawChart();return false;">15日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-7;window.drawChart();return false;">7日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-3;window.drawChart();return false;">3日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-1;window.drawChart();return false;">1日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='hours';window.addVal=-4;window.drawChart();return false;">4時間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='hours';window.addVal=-2;window.drawChart();return false;">2時間</a>
    </div>
    <div>
        <input style="margin-top: 14px;" type="checkbox"
               onclick="setTimeout(function(){window.autoREKT=!window.autoREKT;window.drawChart();},10);">ポジション解消計算（試験）
    </div>

</div>
<script type="text/javascript">
    eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([9c-hjkm-su-wzA-CE-GI-LN-Z]|[0-4][0-9a-zA-Z])'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('1x.1B(\'3u 3t 4y\');N.2y=-7;N.2x=\'3K\';N.2B=f;d 2r=(r(){d 1H,2e,2g={3V:"4z",4A:"4B",46:"47",48:"49"};z(1H 1r 2g){g(1H 1r 1z){2e=2g[1H];O}}u r(a){g(a)1z.3y(2e,a);u!1z[1H]}})();d 2f=h;2r(r(){g(2r()){2f=h}1A{2f=f}});N.n=18;N.4c=r(){d 1R=1z.2M(\'n\').2L(\'2d\');N.n=2Y 1q(1R,_.2D(2c));2I()};2q F={1E:\'1n(1K, 3q, 3a)\',4d:\'1n(1K, 3c, 3m)\',1I:\'1n(1K, 3h, 3p)\',3S:\'1n(3o, 2u, 2u)\',1w:\'1n(3l, 3e, 3j)\',4h:\'1n(3b, 39, 1K)\',3T:\'1n(3f, 3g, 3i)\'};1q.2G.2N.2J.4f.4i=0;1q.2G.2N.2J.2S.3J=\'45\';1q.3s.4g.1v=r(){34.1S=34.1S+10};2q E=1q.3U.E;d k;r 2I(){3P(\'3Z://4s.3R.40/41/4b.2Q?t=\'+3r.4a().U()).33(r(a){u a.2Q()}).33(r(a){k=a;2H()})}N.2H=r(){g(N.n!==18){N.n.3M();N.n=18;d 1R=1z.2M(\'n\').2L(\'2d\');N.n=2Y 1q(1R,_.2D(2c))}d 2K=2W().3x(2y,2x).36();d 9={};d 1i=18;d 1j=18;z(d i=0,l=k[\'m\'][\'c\'].I;i<l;i++){g(2K>k[\'m\'][\'c\'][i][\'j\'])1y;2E C=11.1Z(k[\'m\'][\'c\'][i][\'C\'][0]/0.5)*0.5;g(1i===18||1i<C){1i=C}g(1j===18||1j>C){1j=C}2E o=(C*10).U();g(1o 9[o]===\'1p\'){9[o]={\'X\':0,\'Y\':0,\'1s\':0,\'1t\':0,\'J\':0,\'K\':0,\'1U\':0,\'1V\':0,\'27\':0,\'28\':0,\'A\':[],\'B\':[],\'S\':[],\'T\':[]}}d 1k=k[\'m\'][\'c\'][i][\'2Z\'][0]-k[\'m\'][\'c\'][i][\'2Z\'][1];d X=0;d Y=0;g(k[\'m\'][\'c\'][i][\'V\'][0]>0||k[\'m\'][\'c\'][i][\'V\'][1]<0){X=1k*(k[\'m\'][\'c\'][i][\'V\'][0]/(k[\'m\'][\'c\'][i][\'V\'][0]+11.1P(k[\'m\'][\'c\'][i][\'V\'][1])));Y=1k*(11.1P(k[\'m\'][\'c\'][i][\'V\'][1])/(k[\'m\'][\'c\'][i][\'V\'][0]+11.1P(k[\'m\'][\'c\'][i][\'V\'][1])))}g(1k>0){9[o][\'X\']+=1k;9[o][\'1s\']+=(X);9[o][\'1t\']+=(Y);g(1o 9[o][\'A\']===\'1p\'){9[o][\'A\']=[]}9[o][\'A\'].1D({\'q\':X,\'j\':k[\'m\'][\'c\'][i][\'j\']});g(1o 9[o][\'B\']===\'1p\'){9[o][\'B\']=[]}9[o][\'B\'].1D({\'q\':Y,\'j\':k[\'m\'][\'c\'][i][\'j\']})}1A g(1k<0){9[o][\'Y\']+=1k;9[o][\'J\']+=(X);9[o][\'K\']+=(Y);g(1o 9[o][\'S\']===\'1p\'){9[o][\'S\']=[]}9[o][\'S\'].1D({\'q\':X,\'j\':k[\'m\'][\'c\'][i][\'j\']});g(1o 9[o][\'T\']===\'1p\'){9[o][\'T\']=[]}9[o][\'T\'].1D({\'q\':Y,\'j\':k[\'m\'][\'c\'][i][\'j\']})}9[o][\'1U\']+=k[\'m\'][\'c\'][i][\'2T\'][0];9[o][\'1V\']-=k[\'m\'][\'c\'][i][\'2T\'][1];9[o][\'27\']+=k[\'m\'][\'c\'][i][\'V\'][0];9[o][\'28\']-=k[\'m\'][\'c\'][i][\'V\'][1]}n.1C.2k.2s[3].Z[\'2V\']=1j;n.1C.2k.2s[3].Z[\'2U\']=1i;1x.1B(\'2V:\'+1j,\'2U:\'+1i);n.1C.2p.32=\'2w: $\'+(11.1Z(k[\'m\'][\'c\'][0][\'C\'][0]/0.5)*0.5).4t(1)+\'  (3v: \'+2W.36(k[\'m\'][\'c\'][0][\'j\']).3Q("M/D H:44")+\')\';z(d i=1j*10,l=1i*10;i<=l;i=i+5){g(1o 9[i.U()]===\'1p\'){9[i.U()]={\'X\':0,\'Y\':0,\'1s\':0,\'1t\':0,\'J\':0,\'K\':0,\'1U\':0,\'1V\':0,\'27\':0,\'28\':0,\'A\':[],\'B\':[],\'S\':[],\'T\':[]}}}g(2B){z(d e 1r 9){9[e][\'A\'].1F(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'B\'].1F(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'S\'].1F(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'T\'].1F(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0})}d 1m=[];z(d e 1r 9){1m.1D(2j(e))}d 1G=1m.4o().1F(r(a,b){u(a<b?-1:1)});z(d 17=0,1W=1m.I;17<1W;17++){d C=1m[17];d e=C.U();z(d G=0,1X=9[e][\'T\'].I;G<1X;G++){d 1Y=9[e][\'T\'][G].j;g(9[e][\'T\'][G].q<0){d K=-9[e][\'T\'][G].q;z(d 1a=0,20=1G.I;1a<20;1a++){d 1u=1G[1a];g(C===1u)1y;d w=1u.U();z(d v=0,21=9[w][\'A\'].I;v<21;v++){g(9[w][\'A\'][v].q===0||9[w][\'A\'][v].j>1Y)1y;g(9[w][\'A\'][v].q>=K){9[w][\'A\'][v].q=9[w][\'A\'][v].q-K;K=0}1A{K=K-9[w][\'A\'][v].q;9[w][\'A\'][v].q=0}}}}}}z(d 17=1m.I-1,1W=0;17>=1W;17--){d C=1m[17];d e=C.U();z(d G=0,1X=9[e][\'S\'].I;G<1X;G++){d 1Y=9[e][\'S\'][G].j;g(9[e][\'S\'][G].q<0){d J=-9[e][\'S\'][G].q;z(d 1a=1G.I-1,20=0;1a>=20;1a--){d 1u=1G[1a];g(C===1u)1y;d w=1u.U();z(d v=0,21=9[w][\'B\'].I;v<21;v++){g(9[w][\'B\'][v].q===0||9[w][\'B\'][v].j>1Y)1y;g(9[w][\'B\'][v].q>=J){9[w][\'B\'][v].q=9[w][\'B\'][v].q-J;J=0}1A{J=J-9[w][\'B\'][v].q;9[w][\'B\'][v].q=0}}}}}}}d 2l=0;d 2m=0;d 2n=0;d 2o=0;z(d e 1r 9){d 24=0;z(d i=0,l=9[e][\'A\'].I;i<l;i++){24+=9[e][\'A\'][i].q}9[e][\'1s\']=24;2n+=24;d 26=0;z(d i=0,l=9[e][\'B\'].I;i<l;i++){26+=9[e][\'B\'][i].q}9[e][\'1t\']=26;2o+=26;2l+=9[e][\'J\'];2m+=9[e][\'K\']}1x.1B(\'+1L:\'+2n,\'+1N:\'+2o);1x.1B(\'-1L:\'+2m,\'-1N:\'+2l);n.c.1T=[];n.c.29=[];z(d e 1r 9){g(4e(e)%25===0){n.c.1T.L(2j(e/10))}1A{n.c.1T.L(18)}n.c.29.L(2j(e/10));n.c.P[2].c.L(9[e][\'1s\']);n.c.P[3].c.L(11.1P(9[e][\'J\'])+9[e][\'1s\']);n.c.P[4].c.L(-9[e][\'1t\']);n.c.P[5].c.L(9[e][\'K\']-9[e][\'1t\']);n.c.P[0].c.L(9[e][\'1U\']);n.c.P[1].c.L(9[e][\'1V\']);n.c.P[6].c.L(9[e][\'27\']);n.c.P[7].c.L(9[e][\'28\'])}1x.1B(\'2w: \'+11.1Z(k[\'m\'][\'c\'][0][\'C\'][0]/0.5)*0.5);n.1C.2z.2A[0].37=11.1Z(k[\'m\'][\'c\'][0][\'C\'][0]/0.5)*0.5;n.4x()};2q 2c={35:\'3X\',c:{1T:[],P:[{Q:\'1M +\',14:E(F.1E).13(0.8).19(),W:F.1E,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1M -\',14:E(F.1E).13(0.8).19(),W:F.1E,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'12新規 ロング(1L)\',14:E(F.1w).13(0.8).19(),W:F.1w,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'12精算 ショート(1L)\',14:E(\'#1Q\').13(0.8).19(),W:\'#1Q\',16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'12新規 ショート(1N)\',14:E(F.1w).13(0.8).19(),W:F.1w,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'12精算 ロング(1N)\',14:E(\'#1Q\').13(0.8).19(),W:\'#1Q\',16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1O +\',14:E(F.1I).13(0.8).19(),W:F.1I,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1O -\',14:E(F.1I).13(0.8).19(),W:F.1I,16:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},]},1C:{4j:f,43:{s:f},3B:0.8,2p:{s:h,32:\'\'},2k:{4C:[{1h:\'x-p-1\',23:f,1l:\'2C\',1g:{s:h,1d:h,4F:2,4E:\'#3n\',2b:[5,2],1e:h,1f:h},4u:\'\',Z:{s:h,30:10,31:2a,4p:2a,4q:-2a,3E:h},1v:r(a){a.1S=0},},{1h:\'x-p-2\',23:f,1l:\'4w\',1g:{s:h,1d:h,1e:f,1f:f,E:\'#1J\'},Z:{s:f,}},{1h:\'x-p-3\',23:f,1l:\'2C\',22:{s:f,},1g:{s:h,1d:h,1e:f,E:\'#1J\',1f:f,},Z:{s:f,},1v:r(a){a.1S=2t},}],2s:[{1h:\'y-p-1\',1l:\'2h\',23:h,3C:1.0,3I:1.0,Z:{30:10,s:h,31:5,3G:r(a){u((a%5)==0)?a:\'\'},},1g:{s:h,1d:f,1e:h,1f:h,2b:[5,2],},1v:r(a){a.38=0},},{1h:\'y-p-2\',1l:\'4m\',22:{s:f,},Z:{s:f,},1g:{s:h,1d:h,1e:f,1f:f,E:\'#1J\'},},{1h:\'y-p-3\',1l:\'2h\',22:{s:h,42:\'m\'},Z:{s:f,},1g:{s:h,1d:h,1e:f,1f:f,E:\'#1J\'},1v:r(a){a.38=2t},},{1h:\'y-p-4\',1l:\'2h\',22:{s:f,},Z:{s:f,},1g:{s:f,1d:f,1e:f,1f:f,2b:[5,2]},},]},4v:{2i:\'2X\',2P:f,3H:{2p:r(b,a){g(1o a[\'29\'][b[0][\'2O\']]===\'1p\')u;u\'$ \'+a[\'29\'][b[0][\'2O\']].U()},Q:r(b,a){d 2R=b.4D.U();d R=a.P[b.2F].Q;4r(b.2F){15 0:R=\'1M 精算買い\';O;15 1:R=\'1M 精算売り\';O;15 2:R=\'12 新規買い\';O;15 3:R=\'12 ショート精算買い\';O;15 4:R=\'12 新規売り\';O;15 5:R=\'12 ロング精算売り\';O;15 6:R=\'1O 買い約定\';O;15 7:R=\'1O 売り約定\';O;3L:O}u R+": "+2R+" 3w"}}},3Y:{2i:\'2X\',2P:f,3A:0},3z:{3O:0},4k:0,2z:{2A:[{3N:"3D",35:"2S",2i:"3W",4n:"y-p-4",37:3k,W:\'4l(2v, 3d, 2v, 0.6)\',3F:4}]}}};',[],290,'|||||||||oi_data|||data|let|price_st|false|if|true||time|myJson||ETHUSD|myChart1|key|axis|size|function|display||return|s_mem_i|s_price_st|||for|oi_inc_buy_mem|oi_inc_sell_mem|price||color|chartColors|mem_i||length|oi_dec_buy|oi_dec_sell|unshift||window|break|datasets|label|label_title|oi_dec_buy_mem|oi_dec_sell_mem|toString|trade|borderColor|oi_buy|oi_sell|ticks||Math|OI|alpha|backgroundColor|case|fill|main_i|null|rgbString|s_i|xAxisID|yAxisID|drawBorder|drawOnChartArea|drawTicks|gridLines|id|max_price|min_price|oi|position|price_arr|rgb|typeof|undefined|Chart|in|oi_inc_buy|oi_inc_sell|s_price|afterFit|blue|console|continue|document|else|log|options|push|red|sort|sorted_price_arr|stateKey|yellow|1A1A1A|255|Buy|REKT|Sell|Trade|abs|b8a2eb|ctx1|height|labels|liq_buy|liq_sell|main_l|mem_l|mem_time|round|s_l|s_mem_l|scaleLabel|stacked|total_oi_inc_buy_mem||total_oi_inc_sell_mem|tra_buy|tra_sell|x_labels|1000|borderDash|config1||eventKey|globalDrawUpdate|keys|left|mode|parseFloat|scales|super_total_oi_dec_buy|super_total_oi_dec_sell|super_total_oi_inc_buy|super_total_oi_inc_sell|title|var|vis|yAxes|100|192|88|Price|addType|addVal|annotation|annotations|autoREKT|bottom|cloneDeep|const|datasetIndex|defaults|drawChart|drawOtherData|elements|fromUnixtime|getContext|getElementById|global|index|intersect|json|label_y|line|liq|max|min|moment|nearest|new|openInterest|padding|stepSize|text|then|this|type|unix|value|width|102|132|153|159|160|162|201|203|205|207|235|250|54|64|666666|75|86|99|Date|Legend|Pos|Tainoko|Updated|XBT|add|addEventListener|animation|animationDuration|aspectRatio|barPercentage|beforeDatasetsDraw|beginAtZero|borderWidth|callback|callbacks|categoryPercentage|cubicInterpolationMode|days|default|destroy|drawTime|duration|fetch|format|github|green|grey|helpers|hidden|horizontal|horizontalBar|hover|https|io|lab|labelString|legend|mm|monotone|mozHidden|mozvisibilitychange|msHidden|msvisibilitychange|now|oi_pos_eth|onload|orange|parseInt|point|prototype|purple|radius|responsive|responsiveAnimationDuration|rgba|right|scaleID|slice|suggestedMax|suggestedMin|switch|tainoko|toFixed|tooltipFormat|tooltips|top|update|v12|visibilitychange|webkitHidden|webkitvisibilitychange|xAxes|xLabel|zeroLineColor|zeroLineWidth'.split('|'),0,{}))
</script>
</body>
</html>