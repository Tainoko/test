<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>タイノコチェッカー</title>
    <link rel="icon" type="image/png" href="./icon.png">
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        .btn-sticky {
            display: inline-block;
            padding: 0.5em 1em;
            text-decoration: none;
            background: #f7f7f7;
            border-left: solid 6px #ff7c5c;
            color: #ff7c5c;
            font-weight: bold;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.29);
            font-size: 12px;
        }

        .btn-sticky:active {
            box-shadow: inset 0 0 2px rgba(128, 128, 128, 0.1);
            transform: translateY(2px);
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
    <script src="./js/Chart.js"></script>
    <script src="./js/chartjs-plugin-annotation.js"></script>

</head>
<body>
<div style="width: 1200px;">
    <canvas id="myChart1" width="640" style="margin-top: 8px;"></canvas>
    <div style="margin-top: 8px;">
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-15;window.drawChart();return false;">15日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-7;window.drawChart();return false;">7日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-3;window.drawChart();return false;">3日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='days';window.addVal=-1;window.drawChart();return false;">1日間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='hours';window.addVal=-12;window.drawChart();return false;">12時間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='hours';window.addVal=-4;window.drawChart();return false;">4時間</a>
        <a href="#" class="btn-sticky"
           onclick="window.addType='hours';window.addVal=-2;window.drawChart();return false;">2時間</a>
    </div>
    <div>
        <input style="margin-top: 14px;" type="checkbox"
               onclick="setTimeout(function(){window.autoREKT=!window.autoREKT;window.drawChart();},10);">ポジション解消計算（試験）
    </div>

</div>
<script type="text/javascript">
    eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([9c-hjkm-su-wzA-CE-GI-LN-Z]|[0-4][0-9a-zA-Z])'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('1x.1B(\'3v 3u 4y\');N.2y=-7;N.2x=\'3L\';N.2B=f;d 2s=(r(){d 1I,2f,2h={3W:"4z",4A:"4B",47:"48",49:"4a"};z(1I 1r 2h){g(1I 1r 1z){2f=2h[1I];O}}u r(a){g(a)1z.3z(2f,a);u!1z[1I]}})();d 2g=h;2s(r(){g(2s()){2g=h}1A{2g=f}});N.n=17;N.4d=r(){d 1T=1z.2L(\'n\').2K(\'2d\');N.n=2X 1q(1T,_.2D(2c));2H()};37 F={1E:\'1n(1M, 3r, 3a)\',4e:\'1n(1M, 3c, 3m)\',1J:\'1n(1M, 3h, 3p)\',3T:\'1n(3o, 2u, 2u)\',1w:\'1n(3l, 3e, 3j)\',4i:\'1n(3b, 39, 1M)\',3U:\'1n(3f, 3g, 3i)\'};1q.2F.2M.2I.4g.4j=0;1q.2F.2M.2I.2R.3K=\'46\';1q.3t.4h.1v=r(){33.1U=33.1U+10};37 E=1q.3V.E;d k;r 2H(){3Q(\'40://4t.3S.41/42/4c.2P?t=\'+3s.4b().1a()).32(r(a){u a.2P()}).32(r(a){k=a;2G()})}N.2G=r(){g(N.n!==17){N.n.3N();N.n=17;d 1T=1z.2L(\'n\').2K(\'2d\');N.n=2X 1q(1T,_.2D(2c))}d 2J=2V().3y(2y,2x).35();d 9={};d 1i=17;d 1j=17;z(d i=0,l=k[\'m\'][\'c\'].I;i<l;i++){g(2J>k[\'m\'][\'c\'][i][\'j\'])1y;2e C=V.1F(k[\'m\'][\'c\'][i][\'C\'][0]/5)*5;g(1i===17||1i<C){1i=C}g(1j===17||1j>C){1j=C}2e o=C.1a();g(1o 9[o]===\'1p\'){9[o]={\'X\':0,\'Y\':0,\'1s\':0,\'1t\':0,\'J\':0,\'K\':0,\'1W\':0,\'1X\':0,\'27\':0,\'28\':0,\'A\':[],\'B\':[],\'S\':[],\'T\':[]}}d 1k=k[\'m\'][\'c\'][i][\'2Y\'][0]-k[\'m\'][\'c\'][i][\'2Y\'][1];d X=0;d Y=0;g(k[\'m\'][\'c\'][i][\'U\'][0]>0||k[\'m\'][\'c\'][i][\'U\'][1]<0){X=1k*(k[\'m\'][\'c\'][i][\'U\'][0]/(k[\'m\'][\'c\'][i][\'U\'][0]+V.1R(k[\'m\'][\'c\'][i][\'U\'][1])));Y=1k*(V.1R(k[\'m\'][\'c\'][i][\'U\'][1])/(k[\'m\'][\'c\'][i][\'U\'][0]+V.1R(k[\'m\'][\'c\'][i][\'U\'][1])))}g(1k>0){9[o][\'X\']+=1k;9[o][\'1s\']+=(X);9[o][\'1t\']+=(Y);g(1o 9[o][\'A\']===\'1p\'){9[o][\'A\']=[]}9[o][\'A\'].1D({\'q\':X,\'j\':k[\'m\'][\'c\'][i][\'j\']});g(1o 9[o][\'B\']===\'1p\'){9[o][\'B\']=[]}9[o][\'B\'].1D({\'q\':Y,\'j\':k[\'m\'][\'c\'][i][\'j\']})}1A g(1k<0){9[o][\'Y\']+=1k;9[o][\'J\']+=(X);9[o][\'K\']+=(Y);g(1o 9[o][\'S\']===\'1p\'){9[o][\'S\']=[]}9[o][\'S\'].1D({\'q\':X,\'j\':k[\'m\'][\'c\'][i][\'j\']});g(1o 9[o][\'T\']===\'1p\'){9[o][\'T\']=[]}9[o][\'T\'].1D({\'q\':Y,\'j\':k[\'m\'][\'c\'][i][\'j\']})}9[o][\'1W\']+=k[\'m\'][\'c\'][i][\'2S\'][0];9[o][\'1X\']-=k[\'m\'][\'c\'][i][\'2S\'][1];9[o][\'27\']+=k[\'m\'][\'c\'][i][\'U\'][0];9[o][\'28\']-=k[\'m\'][\'c\'][i][\'U\'][1]}n.1C.2l.2t[3].Z[\'2U\']=1j;n.1C.2l.2t[3].Z[\'2T\']=1i;1x.1B(\'2U:\'+1j,\'2T:\'+1i);n.1C.2q.31=\'2w: $\'+V.1F(k[\'m\'][\'c\'][0][\'C\'][0]).2r()+\'  (3w: \'+2V.35(k[\'m\'][\'c\'][0][\'j\']).3R("M/D H:45")+\')\';z(d i=1j,l=1i;i<=l;i=i+5){g(1o 9[i.1a()]===\'1p\'){9[i.1a()]={\'X\':0,\'Y\':0,\'1s\':0,\'1t\':0,\'J\':0,\'K\':0,\'1W\':0,\'1X\':0,\'27\':0,\'28\':0,\'A\':[],\'B\':[],\'S\':[],\'T\':[]}}}g(2B){z(d e 1r 9){9[e][\'A\'].1G(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'B\'].1G(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'S\'].1G(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0});9[e][\'T\'].1G(r(a,b){g(a.j<b.j)u-1;g(a.j>b.j)u 1;u 0})}d 1m=[];z(d e 1r 9){1m.1D(4f(e))}d 1H=1m.4p().1G(r(a,b){u(a<b?-1:1)});z(d 16=0,1Y=1m.I;16<1Y;16++){d C=1m[16];d e=C.1a();z(d G=0,1Z=9[e][\'T\'].I;G<1Z;G++){d 20=9[e][\'T\'][G].j;g(9[e][\'T\'][G].q<0){d K=-9[e][\'T\'][G].q;z(d 19=0,21=1H.I;19<21;19++){d 1u=1H[19];g(C===1u)1y;d w=1u.1a();z(d v=0,22=9[w][\'A\'].I;v<22;v++){g(9[w][\'A\'][v].q===0||9[w][\'A\'][v].j>20)1y;g(9[w][\'A\'][v].q>=K){9[w][\'A\'][v].q=9[w][\'A\'][v].q-K;K=0}1A{K=K-9[w][\'A\'][v].q;9[w][\'A\'][v].q=0}}}}}}z(d 16=1m.I-1,1Y=0;16>=1Y;16--){d C=1m[16];d e=C.1a();z(d G=0,1Z=9[e][\'S\'].I;G<1Z;G++){d 20=9[e][\'S\'][G].j;g(9[e][\'S\'][G].q<0){d J=-9[e][\'S\'][G].q;z(d 19=1H.I-1,21=0;19>=21;19--){d 1u=1H[19];g(C===1u)1y;d w=1u.1a();z(d v=0,22=9[w][\'B\'].I;v<22;v++){g(9[w][\'B\'][v].q===0||9[w][\'B\'][v].j>20)1y;g(9[w][\'B\'][v].q>=J){9[w][\'B\'][v].q=9[w][\'B\'][v].q-J;J=0}1A{J=J-9[w][\'B\'][v].q;9[w][\'B\'][v].q=0}}}}}}}d 2m=0;d 2n=0;d 2o=0;d 2p=0;z(d e 1r 9){d 25=0;z(d i=0,l=9[e][\'A\'].I;i<l;i++){25+=9[e][\'A\'][i].q}9[e][\'1s\']=25;2o+=25;d 26=0;z(d i=0,l=9[e][\'B\'].I;i<l;i++){26+=9[e][\'B\'][i].q}9[e][\'1t\']=26;2p+=26;2m+=9[e][\'J\'];2n+=9[e][\'K\']}1x.1B(\'+1N:\'+2o,\'+1P:\'+2p);1x.1B(\'-1N:\'+2n,\'-1P:\'+2m);n.c.1V=[];n.c.29=[];z(d e 1r 9){g(2k(e,10)%3k===0){n.c.1V.L(2k(e,10))}1A{n.c.1V.L(17)}n.c.29.L(2k(e,10));n.c.P[2].c.L(9[e][\'1s\']);n.c.P[3].c.L(V.1R(9[e][\'J\'])+9[e][\'1s\']);n.c.P[4].c.L(-9[e][\'1t\']);n.c.P[5].c.L(9[e][\'K\']-9[e][\'1t\']);n.c.P[0].c.L(9[e][\'1W\']);n.c.P[1].c.L(9[e][\'1X\']);n.c.P[6].c.L(9[e][\'27\']);n.c.P[7].c.L(9[e][\'28\'])}1x.1B(\'2w: \'+V.1F(k[\'m\'][\'c\'][0][\'C\'][0]));n.1C.2z.2A[0].36=V.1F(k[\'m\'][\'c\'][0][\'C\'][0]);n.4x()};2e 2c={34:\'3Y\',c:{1V:[],P:[{Q:\'1O +\',13:E(F.1E).12(0.8).18(),W:F.1E,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1O -\',13:E(F.1E).12(0.8).18(),W:F.1E,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'11新規 ロング(1N)\',13:E(F.1w).12(0.8).18(),W:F.1w,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'11精算 ショート(1N)\',13:E(\'#1S\').12(0.8).18(),W:\'#1S\',15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'11新規 ショート(1P)\',13:E(F.1w).12(0.8).18(),W:F.1w,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'11精算 ロング(1P)\',13:E(\'#1S\').12(0.8).18(),W:\'#1S\',15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1Q +\',13:E(F.1J).12(0.8).18(),W:F.1J,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},{Q:\'1Q -\',13:E(F.1J).12(0.8).18(),W:F.1J,15:h,c:[],1b:\'x-p-1\',1c:\'y-p-1\',},]},1C:{4k:f,44:{s:f},3C:0.8,2q:{s:h,31:\'\'},2l:{4C:[{1h:\'x-p-1\',24:f,1l:\'2C\',1g:{s:h,1d:h,4F:2,4E:\'#3n\',2b:[5,2],1e:h,1f:h},4u:\'\',Z:{s:h,2Z:10,30:2a,4q:2a,4r:-2a,3F:h},1v:r(a){a.1U=0},},{1h:\'x-p-2\',24:f,1l:\'4w\',1g:{s:h,1d:h,1e:f,1f:f,E:\'#1L\'},Z:{s:f,}},{1h:\'x-p-3\',24:f,1l:\'2C\',23:{s:f,},1g:{s:h,1d:h,1e:f,E:\'#1L\',1f:f,},Z:{s:f,},1v:r(a){a.1U=1K},}],2t:[{1h:\'y-p-1\',1l:\'2i\',24:h,3D:1.0,3J:1.0,Z:{2Z:10,s:h,30:1K,3H:r(a){u((a%1K)==0)?a:\'\'},},1g:{s:h,1d:f,1e:h,1f:h,2b:[5,2],},1v:r(a){a.38=0},},{1h:\'y-p-2\',1l:\'4n\',23:{s:f,},Z:{s:f,},1g:{s:h,1d:h,1e:f,1f:f,E:\'#1L\'},},{1h:\'y-p-3\',1l:\'2i\',23:{s:h,43:\'m\'},Z:{s:f,},1g:{s:h,1d:h,1e:f,1f:f,E:\'#1L\'},1v:r(a){a.38=1K},},{1h:\'y-p-4\',1l:\'2i\',23:{s:f,},Z:{s:f,},1g:{s:f,1d:f,1e:f,1f:f,2b:[5,2]},},]},4v:{2j:\'2W\',2O:f,3I:{2q:r(b,a){g(1o a[\'29\'][b[0][\'2N\']]===\'1p\')u;u\'$ \'+a[\'29\'][b[0][\'2N\']].2r()},Q:r(b,a){d 2Q=V.1F(b.4D).2r();d R=a.P[b.2E].Q;4s(b.2E){14 0:R=\'1O 精算買い\';O;14 1:R=\'1O 精算売り\';O;14 2:R=\'11 新規買い\';O;14 3:R=\'11 ショート精算買い\';O;14 4:R=\'11 新規売り\';O;14 5:R=\'11 ロング精算売り\';O;14 6:R=\'1Q 買い約定\';O;14 7:R=\'1Q 売り約定\';O;3M:O}u R+": "+2Q+" 3x"}}},3Z:{2j:\'2W\',2O:f,3B:0},3A:{3P:0},4l:0,2z:{2A:[{3O:"3E",34:"2R",2j:"3X",4o:"y-p-4",36:3q,W:\'4m(2v, 3d, 2v, 0.6)\',3G:4}]}}};',[],290,'|||||||||oi_data|||data|let|price_st|false|if|true||time|myJson||XBTUSD|myChart1|key|axis|size|function|display||return|s_mem_i|s_price_st|||for|oi_inc_buy_mem|oi_inc_sell_mem|price||color|chartColors|mem_i||length|oi_dec_buy|oi_dec_sell|unshift||window|break|datasets|label|label_title|oi_dec_buy_mem|oi_dec_sell_mem|trade|Math|borderColor|oi_buy|oi_sell|ticks||OI|alpha|backgroundColor|case|fill|main_i|null|rgbString|s_i|toString|xAxisID|yAxisID|drawBorder|drawOnChartArea|drawTicks|gridLines|id|max_price|min_price|oi|position|price_arr|rgb|typeof|undefined|Chart|in|oi_inc_buy|oi_inc_sell|s_price|afterFit|blue|console|continue|document|else|log|options|push|red|round|sort|sorted_price_arr|stateKey|yellow|100|1A1A1A|255|Buy|REKT|Sell|Trade|abs|b8a2eb|ctx1|height|labels|liq_buy|liq_sell|main_l|mem_l|mem_time|s_l|s_mem_l|scaleLabel|stacked|total_oi_inc_buy_mem|total_oi_inc_sell_mem|tra_buy|tra_sell|x_labels|1000|borderDash|config1||const|eventKey|globalDrawUpdate|keys|left|mode|parseInt|scales|super_total_oi_dec_buy|super_total_oi_dec_sell|super_total_oi_inc_buy|super_total_oi_inc_sell|title|toLocaleString|vis|yAxes|192|88|Price|addType|addVal|annotation|annotations|autoREKT|bottom|cloneDeep|datasetIndex|defaults|drawChart|drawOtherData|elements|fromUnixtime|getContext|getElementById|global|index|intersect|json|label_y|line|liq|max|min|moment|nearest|new|openInterest|padding|stepSize|text|then|this|type|unix|value|var|width|102|132|153|159|160|162|201|203|205|207|235|50|54|64|666666|75|86|8800|99|Date|Legend|Pos|Tainoko|Updated|XBT|add|addEventListener|animation|animationDuration|aspectRatio|barPercentage|beforeDatasetsDraw|beginAtZero|borderWidth|callback|callbacks|categoryPercentage|cubicInterpolationMode|days|default|destroy|drawTime|duration|fetch|format|github|green|grey|helpers|hidden|horizontal|horizontalBar|hover|https|io|lab|labelString|legend|mm|monotone|mozHidden|mozvisibilitychange|msHidden|msvisibilitychange|now|oi_pos|onload|orange|parseFloat|point|prototype|purple|radius|responsive|responsiveAnimationDuration|rgba|right|scaleID|slice|suggestedMax|suggestedMin|switch|tainoko|tooltipFormat|tooltips|top|update|v12|visibilitychange|webkitHidden|webkitvisibilitychange|xAxes|xLabel|zeroLineColor|zeroLineWidth'.split('|'),0,{}))
</script>
</body>
</html>